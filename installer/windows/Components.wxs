<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">
  <Fragment>
    <!-- 
      NOTE: This file contains placeholder components.
      In a production build, these should be generated using heat.exe to harvest all files.
      
      To generate components automatically:
      heat dir ../../server/dist -cg ServerComponents -dr ServerDistFolder -gg -sfrag -out ServerComponents.wxs
      heat dir ../../ui/dist -cg UiComponents -dr UiDistFolder -gg -sfrag -out UiComponents.wxs
      
      For now, only package.json files are included as markers.
      The actual application files would need to be added either manually or via heat harvesting.
    -->
    
    <!-- Server Components Placeholder -->
    <ComponentGroup Id="ServerComponents" Directory="ServerFolder">
      <ComponentRef Id="ServerPackageJson" />
    </ComponentGroup>
    
    <Component Id="ServerPackageJson" Directory="ServerFolder" Guid="7D1B8F2C-5E9A-4F3B-2D6C-8A1E3F5D7B9C">
      <File Id="ServerPackageJsonFile" Source="..\..\server\package.json" KeyPath="yes" />
    </Component>

    <!-- UI Components Placeholder -->
    <ComponentGroup Id="UiComponents" Directory="UiFolder">
      <ComponentRef Id="UiPackageJson" />
    </ComponentGroup>
    
    <Component Id="UiPackageJson" Directory="UiFolder" Guid="8E2C9F3D-6F0B-5A4C-3E7D-9B2F4A6E8C0D">
      <File Id="UiPackageJsonFile" Source="..\..\ui\package.json" KeyPath="yes" />
    </Component>

    <!-- Packages Components Placeholder -->
    <ComponentGroup Id="PackagesComponents" Directory="ContractsFolder">
      <ComponentRef Id="ContractsPackageJson" />
    </ComponentGroup>
    
    <Component Id="ContractsPackageJson" Directory="ContractsFolder" Guid="9F3D0A4E-7A1C-6B5D-4F8E-0C3A5B7D9E1F">
      <File Id="ContractsPackageJsonFile" Source="..\..\packages\contracts\package.json" KeyPath="yes" />
    </Component>

    <!-- Root Components -->
    <ComponentGroup Id="RootComponents" Directory="INSTALLFOLDER">
      <ComponentRef Id="RootPackageJson" />
      <ComponentRef Id="YarnLock" />
      <ComponentRef Id="TurboJson" />
    </ComponentGroup>
    
    <Component Id="RootPackageJson" Directory="INSTALLFOLDER" Guid="0A4E1B5F-8B2D-7C6A-5E9F-1D3B6C8E0A2F">
      <File Id="RootPackageJsonFile" Source="..\..\package.json" KeyPath="yes" />
    </Component>
    
    <Component Id="YarnLock" Directory="INSTALLFOLDER" Guid="1B5F2C6A-9C3E-8D7B-6F0A-2E4C7D9F1B3A">
      <File Id="YarnLockFile" Source="..\..\yarn.lock" KeyPath="yes" />
    </Component>
    
    <Component Id="TurboJson" Directory="INSTALLFOLDER" Guid="2C6A3D7B-0D4F-9E8C-7A1B-3F5E8A0C2D4B">
      <File Id="TurboJsonFile" Source="..\..\turbo.json" KeyPath="yes" />
    </Component>
  </Fragment>
</Wix>
